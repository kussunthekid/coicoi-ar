(()=>{var e={1142:(e,r,t)=>{"use strict";t.d(r,{tb:()=>a});var a="undefined"!=typeof Float32Array?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,r=arguments.length;r--;)e+=arguments[r]*arguments[r];return Math.sqrt(e)})},6606:(e,r,t)=>{"use strict";let a,_,n,i,s,c;var o=t(7071),p=t(8437),l=t(6050);class d{constructor(e,r){this._impl=e,this._sender=r,this._deserializer=new l.X,this.serializersByPipelineId=new Map,this._pipeline_id_by_pipeline_id=new Map,this._pipeline_by_instance=new Map,this._pipeline_id_by_camera_source_id=new Map,this._camera_source_by_instance=new Map,this._pipeline_id_by_sequence_source_id=new Map,this._sequence_source_by_instance=new Map,this._pipeline_id_by_image_tracker_id=new Map,this._image_tracker_by_instance=new Map,this._pipeline_id_by_face_tracker_id=new Map,this._face_tracker_by_instance=new Map,this._pipeline_id_by_face_mesh_id=new Map,this._face_mesh_by_instance=new Map,this._pipeline_id_by_face_landmark_id=new Map,this._face_landmark_by_instance=new Map,this._pipeline_id_by_barcode_finder_id=new Map,this._barcode_finder_by_instance=new Map,this._pipeline_id_by_instant_world_tracker_id=new Map,this._instant_world_tracker_by_instance=new Map,this._pipeline_id_by_zapcode_tracker_id=new Map,this._zapcode_tracker_by_instance=new Map,this._pipeline_id_by_world_tracker_id=new Map,this._world_tracker_by_instance=new Map,this._pipeline_id_by_custom_anchor_id=new Map,this._custom_anchor_by_instance=new Map,this._pipeline_id_by_d3_tracker_id=new Map,this._d3_tracker_by_instance=new Map}processBuffer(e){this._deserializer.setData(e),this._deserializer.forMessages((e,r)=>{switch(e){case 39:this._impl.log_level_set(r.logLevel());break;case 36:this._impl.analytics_project_id_set(r.string(),r.string());break;case 32:{let e=r.type(),t=this._impl.pipeline_create();this._pipeline_by_instance.set(e,t),this._pipeline_id_by_pipeline_id.set(e,e),this.serializersByPipelineId.set(e,new p.A(r=>{this._sender(e,r)}));break}case 33:{let e=r.type(),t=this._pipeline_by_instance.get(e);if(void 0===t)return;this._impl.pipeline_destroy(t),this._pipeline_by_instance.delete(e);break}case 9:{let e=r.type(),t=this._pipeline_by_instance.get(e);if(void 0===t)return;this._impl.pipeline_frame_update(t);break}case 8:{let e=r.type(),t=this._pipeline_by_instance.get(e);if(void 0===t)return;this._impl.pipeline_camera_frame_submit(t,r.dataWithLength(),r.int(),r.int(),r.int(),r.matrix4x4(),r.cameraModel(),r.bool(),r.int());break}case 10:{let e=r.type(),t=this._pipeline_by_instance.get(e);if(void 0===t)return;this._impl.pipeline_motion_accelerometer_submit(t,r.timestamp(),r.float(),r.float(),r.float());break}case 12:{let e=r.type(),t=this._pipeline_by_instance.get(e);if(void 0===t)return;this._impl.pipeline_motion_accelerometer_with_gravity_submit_int(t,r.timestamp(),r.timestamp(),r.float(),r.float(),r.float());break}case 11:{let e=r.type(),t=this._pipeline_by_instance.get(e);if(void 0===t)return;this._impl.pipeline_motion_accelerometer_without_gravity_submit_int(t,r.timestamp(),r.timestamp(),r.float(),r.float(),r.float());break}case 15:{let e=r.type(),t=this._pipeline_by_instance.get(e);if(void 0===t)return;this._impl.pipeline_motion_rotation_rate_submit(t,r.timestamp(),r.float(),r.float(),r.float());break}case 13:{let e=r.type(),t=this._pipeline_by_instance.get(e);if(void 0===t)return;this._impl.pipeline_motion_rotation_rate_submit_int(t,r.timestamp(),r.timestamp(),r.float(),r.float(),r.float());break}case 16:{let e=r.type(),t=this._pipeline_by_instance.get(e);if(void 0===t)return;this._impl.pipeline_motion_attitude_submit(t,r.timestamp(),r.float(),r.float(),r.float());break}case 14:{let e=r.type(),t=this._pipeline_by_instance.get(e);if(void 0===t)return;this._impl.pipeline_motion_attitude_submit_int(t,r.timestamp(),r.timestamp(),r.float(),r.float(),r.float());break}case 17:{let e=r.type(),t=this._pipeline_by_instance.get(e);if(void 0===t)return;this._impl.pipeline_motion_relative_orientation_submit_int(t,r.timestamp(),r.timestamp(),r.float(),r.float(),r.float(),r.float());break}case 18:{let e=r.type(),t=this._pipeline_by_instance.get(e);if(void 0===t)return;this._impl.pipeline_motion_attitude_matrix_submit(t,r.matrix4x4());break}case 34:{let e=r.type(),t=r.type(),a=this._pipeline_by_instance.get(t),_=r.string(),n=this._impl.camera_source_create(a,_);this._camera_source_by_instance.set(e,n),this._pipeline_id_by_camera_source_id.set(e,t);break}case 35:{let e=r.type(),t=this._camera_source_by_instance.get(e);if(void 0===t)return;this._impl.camera_source_destroy(t),this._camera_source_by_instance.delete(e);break}case 40:{let e=r.type(),t=r.type(),a=this._pipeline_by_instance.get(t),_=this._impl.sequence_source_create(a);this._sequence_source_by_instance.set(e,_),this._pipeline_id_by_sequence_source_id.set(e,t);break}case 41:{let e=r.type(),t=this._sequence_source_by_instance.get(e);if(void 0===t)return;this._impl.sequence_source_destroy(t),this._sequence_source_by_instance.delete(e);break}case 2:{let e=r.type(),t=r.type(),a=this._pipeline_by_instance.get(t),_=this._impl.image_tracker_create(a);this._image_tracker_by_instance.set(e,_),this._pipeline_id_by_image_tracker_id.set(e,t);break}case 19:{let e=r.type(),t=this._image_tracker_by_instance.get(e);if(void 0===t)return;this._impl.image_tracker_destroy(t),this._image_tracker_by_instance.delete(e);break}case 4:{let e=r.type(),t=this._image_tracker_by_instance.get(e);if(void 0===t)return;this._impl.image_tracker_target_load_from_memory(t,r.dataWithLength());break}case 3:{let e=r.type(),t=this._image_tracker_by_instance.get(e);if(void 0===t)return;this._impl.image_tracker_enabled_set(t,r.bool());break}case 25:{let e=r.type(),t=r.type(),a=this._pipeline_by_instance.get(t),_=this._impl.face_tracker_create(a);this._face_tracker_by_instance.set(e,_),this._pipeline_id_by_face_tracker_id.set(e,t);break}case 26:{let e=r.type(),t=this._face_tracker_by_instance.get(e);if(void 0===t)return;this._impl.face_tracker_destroy(t),this._face_tracker_by_instance.delete(e);break}case 27:{let e=r.type(),t=this._face_tracker_by_instance.get(e);if(void 0===t)return;this._impl.face_tracker_model_load_from_memory(t,r.dataWithLength());break}case 28:{let e=r.type(),t=this._face_tracker_by_instance.get(e);if(void 0===t)return;this._impl.face_tracker_enabled_set(t,r.bool());break}case 29:{let e=r.type(),t=this._face_tracker_by_instance.get(e);if(void 0===t)return;this._impl.face_tracker_max_faces_set(t,r.int());break}case 30:{let e=r.type(),t=this._impl.face_mesh_create();this._face_mesh_by_instance.set(e,t);break}case 31:{let e=r.type(),t=this._face_mesh_by_instance.get(e);if(void 0===t)return;this._impl.face_mesh_destroy(t),this._face_mesh_by_instance.delete(e);break}case 37:{let e=r.type(),t=r.faceLandmarkName(),a=this._impl.face_landmark_create(t);this._face_landmark_by_instance.set(e,a);break}case 38:{let e=r.type(),t=this._face_landmark_by_instance.get(e);if(void 0===t)return;this._impl.face_landmark_destroy(t),this._face_landmark_by_instance.delete(e);break}case 21:{let e=r.type(),t=r.type(),a=this._pipeline_by_instance.get(t),_=this._impl.barcode_finder_create(a);this._barcode_finder_by_instance.set(e,_),this._pipeline_id_by_barcode_finder_id.set(e,t);break}case 22:{let e=r.type(),t=this._barcode_finder_by_instance.get(e);if(void 0===t)return;this._impl.barcode_finder_destroy(t),this._barcode_finder_by_instance.delete(e);break}case 23:{let e=r.type(),t=this._barcode_finder_by_instance.get(e);if(void 0===t)return;this._impl.barcode_finder_enabled_set(t,r.bool());break}case 24:{let e=r.type(),t=this._barcode_finder_by_instance.get(e);if(void 0===t)return;this._impl.barcode_finder_formats_set(t,r.barcodeFormat());break}case 5:{let e=r.type(),t=r.type(),a=this._pipeline_by_instance.get(t),_=this._impl.instant_world_tracker_create(a);this._instant_world_tracker_by_instance.set(e,_),this._pipeline_id_by_instant_world_tracker_id.set(e,t);break}case 20:{let e=r.type(),t=this._instant_world_tracker_by_instance.get(e);if(void 0===t)return;this._impl.instant_world_tracker_destroy(t),this._instant_world_tracker_by_instance.delete(e);break}case 6:{let e=r.type(),t=this._instant_world_tracker_by_instance.get(e);if(void 0===t)return;this._impl.instant_world_tracker_enabled_set(t,r.bool());break}case 7:{let e=r.type(),t=this._instant_world_tracker_by_instance.get(e);if(void 0===t)return;this._impl.instant_world_tracker_anchor_pose_set_from_camera_offset_raw(t,r.float(),r.float(),r.float(),r.instantTrackerTransformOrientation());break}case 42:{let e=r.type(),t=r.type(),a=this._pipeline_by_instance.get(t),_=this._impl.zapcode_tracker_create(a);this._zapcode_tracker_by_instance.set(e,_),this._pipeline_id_by_zapcode_tracker_id.set(e,t);break}case 45:{let e=r.type(),t=this._zapcode_tracker_by_instance.get(e);if(void 0===t)return;this._impl.zapcode_tracker_destroy(t),this._zapcode_tracker_by_instance.delete(e);break}case 44:{let e=r.type(),t=this._zapcode_tracker_by_instance.get(e);if(void 0===t)return;this._impl.zapcode_tracker_target_load_from_memory(t,r.dataWithLength());break}case 43:{let e=r.type(),t=this._zapcode_tracker_by_instance.get(e);if(void 0===t)return;this._impl.zapcode_tracker_enabled_set(t,r.bool());break}case 46:{let e=r.type(),t=r.type(),a=this._pipeline_by_instance.get(t),_=this._impl.world_tracker_create(a);this._world_tracker_by_instance.set(e,_),this._pipeline_id_by_world_tracker_id.set(e,t);break}case 47:{let e=r.type(),t=this._world_tracker_by_instance.get(e);if(void 0===t)return;this._impl.world_tracker_destroy(t),this._world_tracker_by_instance.delete(e);break}case 48:{let e=r.type(),t=this._world_tracker_by_instance.get(e);if(void 0===t)return;this._impl.world_tracker_enabled_set(t,r.bool());break}case 49:{let e=r.type(),t=this._world_tracker_by_instance.get(e);if(void 0===t)return;this._impl.world_tracker_horizontal_plane_detection_enabled_set(t,r.bool());break}case 50:{let e=r.type(),t=this._world_tracker_by_instance.get(e);if(void 0===t)return;this._impl.world_tracker_vertical_plane_detection_enabled_set(t,r.bool());break}case 51:{let e=r.type(),t=this._world_tracker_by_instance.get(e);if(void 0===t)return;this._impl.world_tracker_reset(t);break}case 52:{let e=r.type(),t=this._world_tracker_by_instance.get(e);if(void 0===t)return;this._impl.world_tracker_tracks_data_enabled_set(t,r.bool());break}case 53:{let e=r.type(),t=this._world_tracker_by_instance.get(e);if(void 0===t)return;this._impl.world_tracker_projections_data_enabled_set(t,r.bool());break}case 54:{let e=r.type(),t=r.type(),a=this._pipeline_by_instance.get(t),_=r.type(),n=this._world_tracker_by_instance.get(_),i=r.string(),s=this._impl.custom_anchor_create(a,n,i);this._custom_anchor_by_instance.set(e,s),this._pipeline_id_by_custom_anchor_id.set(e,t);break}case 55:{let e=r.type(),t=this._custom_anchor_by_instance.get(e);if(void 0===t)return;this._impl.custom_anchor_destroy(t),this._custom_anchor_by_instance.delete(e);break}case 56:{let e=r.type(),t=this._custom_anchor_by_instance.get(e);if(void 0===t)return;this._impl.custom_anchor_pose_set_from_camera_offset_raw(t,r.float(),r.float(),r.float(),r.transformOrientation());break}case 57:{let e=r.type(),t=this._custom_anchor_by_instance.get(e);if(void 0===t)return;this._impl.custom_anchor_pose_set_from_anchor_offset(t,r.string(),r.float(),r.float(),r.float(),r.transformOrientation());break}case 58:{let e=r.type(),t=this._custom_anchor_by_instance.get(e);if(void 0===t)return;this._impl.custom_anchor_pose_set(t,r.matrix4x4());break}case 59:{let e=r.type(),t=this._custom_anchor_by_instance.get(e);if(void 0===t)return;this._impl.custom_anchor_pose_set_with_parent(t,r.matrix4x4(),r.string());break}case 60:{let e=r.type(),t=r.type(),a=this._pipeline_by_instance.get(t),_=this._impl.d3_tracker_create(a);this._d3_tracker_by_instance.set(e,_),this._pipeline_id_by_d3_tracker_id.set(e,t);break}case 61:{let e=r.type(),t=this._d3_tracker_by_instance.get(e);if(void 0===t)return;this._impl.d3_tracker_destroy(t),this._d3_tracker_by_instance.delete(e)}}})}exploreState(){for(let[e,r]of this._pipeline_by_instance){let t=this._pipeline_id_by_pipeline_id.get(e);if(!t)continue;let a=this.serializersByPipelineId.get(t);a&&(a.sendMessage(9,t=>{t.type(e),t.int(this._impl.pipeline_frame_number(r))}),a.sendMessage(6,t=>{t.type(e),t.cameraModel(this._impl.pipeline_camera_model(r))}),a.sendMessage(7,t=>{t.type(e),t.int(this._impl.pipeline_camera_data_width(r))}),a.sendMessage(8,t=>{t.type(e),t.int(this._impl.pipeline_camera_data_height(r))}),a.sendMessage(5,t=>{t.type(e),t.int(this._impl.pipeline_camera_frame_user_data(r))}),a.sendMessage(13,t=>{t.type(e),t.matrix4x4(this._impl.pipeline_camera_frame_camera_attitude(r))}),a.sendMessage(14,t=>{t.type(e),t.matrix4x4(this._impl.pipeline_camera_frame_device_attitude(r))}))}for(let[e,r]of this._camera_source_by_instance){let r=this._pipeline_id_by_camera_source_id.get(e);if(!r||!this.serializersByPipelineId.get(r))continue}for(let[e,r]of this._sequence_source_by_instance){let r=this._pipeline_id_by_sequence_source_id.get(e);if(!r||!this.serializersByPipelineId.get(r))continue}for(let[e,r]of this._image_tracker_by_instance){let t=this._pipeline_id_by_image_tracker_id.get(e);if(!t)continue;let a=this.serializersByPipelineId.get(t);if(a){a.sendMessage(21,t=>{t.type(e),t.int(this._impl.image_tracker_target_loaded_version(r))}),a.sendMessage(1,t=>{t.type(e),t.int(this._impl.image_tracker_anchor_count(r))});for(let t=0;t<this._impl.image_tracker_anchor_count(r);t++)a.sendMessage(2,a=>{a.type(e),a.int(t),a.string(this._impl.image_tracker_anchor_id(r,t))});for(let t=0;t<this._impl.image_tracker_anchor_count(r);t++)a.sendMessage(3,a=>{a.type(e),a.int(t),a.matrix4x4(this._impl.image_tracker_anchor_pose_raw(r,t))})}}for(let[e,r]of this._face_tracker_by_instance){let t=this._pipeline_id_by_face_tracker_id.get(e);if(!t)continue;let a=this.serializersByPipelineId.get(t);if(a){a.sendMessage(20,t=>{t.type(e),t.int(this._impl.face_tracker_model_loaded_version(r))}),a.sendMessage(15,t=>{t.type(e),t.int(this._impl.face_tracker_anchor_count(r))});for(let t=0;t<this._impl.face_tracker_anchor_count(r);t++)a.sendMessage(16,a=>{a.type(e),a.int(t),a.string(this._impl.face_tracker_anchor_id(r,t))});for(let t=0;t<this._impl.face_tracker_anchor_count(r);t++)a.sendMessage(17,a=>{a.type(e),a.int(t),a.matrix4x4(this._impl.face_tracker_anchor_pose_raw(r,t))});for(let t=0;t<this._impl.face_tracker_anchor_count(r);t++)a.sendMessage(18,a=>{a.type(e),a.int(t),a.identityCoefficients(this._impl.face_tracker_anchor_identity_coefficients(r,t))});for(let t=0;t<this._impl.face_tracker_anchor_count(r);t++)a.sendMessage(19,a=>{a.type(e),a.int(t),a.expressionCoefficients(this._impl.face_tracker_anchor_expression_coefficients(r,t))})}}for(let[e,r]of this._face_mesh_by_instance){let r=this._pipeline_id_by_face_mesh_id.get(e);if(!r||!this.serializersByPipelineId.get(r))continue}for(let[e,r]of this._face_landmark_by_instance){let r=this._pipeline_id_by_face_landmark_id.get(e);if(!r||!this.serializersByPipelineId.get(r))continue}for(let[e,r]of this._barcode_finder_by_instance){let t=this._pipeline_id_by_barcode_finder_id.get(e);if(!t)continue;let a=this.serializersByPipelineId.get(t);if(a){a.sendMessage(10,t=>{t.type(e),t.int(this._impl.barcode_finder_found_number(r))});for(let t=0;t<this._impl.barcode_finder_found_number(r);t++)a.sendMessage(11,a=>{a.type(e),a.int(t),a.string(this._impl.barcode_finder_found_text(r,t))});for(let t=0;t<this._impl.barcode_finder_found_number(r);t++)a.sendMessage(12,a=>{a.type(e),a.int(t),a.barcodeFormat(this._impl.barcode_finder_found_format(r,t))})}}for(let[e,r]of this._instant_world_tracker_by_instance){let t=this._pipeline_id_by_instant_world_tracker_id.get(e);if(!t)continue;let a=this.serializersByPipelineId.get(t);a&&a.sendMessage(4,t=>{t.type(e),t.matrix4x4(this._impl.instant_world_tracker_anchor_pose_raw(r))})}for(let[e,r]of this._zapcode_tracker_by_instance){let t=this._pipeline_id_by_zapcode_tracker_id.get(e);if(!t)continue;let a=this.serializersByPipelineId.get(t);if(a){a.sendMessage(26,t=>{t.type(e),t.int(this._impl.zapcode_tracker_target_loaded_version(r))}),a.sendMessage(23,t=>{t.type(e),t.int(this._impl.zapcode_tracker_anchor_count(r))});for(let t=0;t<this._impl.zapcode_tracker_anchor_count(r);t++)a.sendMessage(24,a=>{a.type(e),a.int(t),a.string(this._impl.zapcode_tracker_anchor_id(r,t))});for(let t=0;t<this._impl.zapcode_tracker_anchor_count(r);t++)a.sendMessage(25,a=>{a.type(e),a.int(t),a.matrix4x4(this._impl.zapcode_tracker_anchor_pose_raw(r,t))})}}for(let[e,r]of this._world_tracker_by_instance){let t=this._pipeline_id_by_world_tracker_id.get(e);if(!t)continue;let a=this.serializersByPipelineId.get(t);if(a){a.sendMessage(27,t=>{t.type(e),t.int(this._impl.world_tracker_session_number(r))}),a.sendMessage(43,t=>{t.type(e),t.int(this._impl.world_tracker_quality(r))}),a.sendMessage(28,t=>{t.type(e),t.int(this._impl.world_tracker_plane_anchor_count(r))});for(let t=0;t<this._impl.world_tracker_plane_anchor_count(r);t++)a.sendMessage(36,a=>{a.type(e),a.int(t),a.string(this._impl.world_tracker_plane_anchor_id(r,t))});for(let t=0;t<this._impl.world_tracker_plane_anchor_count(r);t++)a.sendMessage(29,a=>{a.type(e),a.int(t),a.matrix4x4(this._impl.world_tracker_plane_anchor_pose_raw(r,t))});for(let t=0;t<this._impl.world_tracker_plane_anchor_count(r);t++)a.sendMessage(31,a=>{a.type(e),a.int(t),a.anchorStatus(this._impl.world_tracker_plane_anchor_status(r,t))});for(let t=0;t<this._impl.world_tracker_plane_anchor_count(r);t++)a.sendMessage(32,a=>{a.type(e),a.int(t),a.int(this._impl.world_tracker_plane_anchor_polygon_data_size(r,t))});for(let t=0;t<this._impl.world_tracker_plane_anchor_count(r);t++)a.sendMessage(33,a=>{a.type(e),a.int(t),a.floatArray(this._impl.world_tracker_plane_anchor_polygon_data(r,t))});for(let t=0;t<this._impl.world_tracker_plane_anchor_count(r);t++)a.sendMessage(34,a=>{a.type(e),a.int(t),a.int(this._impl.world_tracker_plane_anchor_polygon_version(r,t))});for(let t=0;t<this._impl.world_tracker_plane_anchor_count(r);t++)a.sendMessage(35,a=>{a.type(e),a.int(t),a.planeOrientation(this._impl.world_tracker_plane_anchor_orientation(r,t))});a.sendMessage(39,t=>{t.type(e),t.anchorStatus(this._impl.world_tracker_world_anchor_status(r))}),a.sendMessage(38,t=>{t.type(e),t.string(this._impl.world_tracker_world_anchor_id(r))}),a.sendMessage(37,t=>{t.type(e),t.matrix4x4(this._impl.world_tracker_world_anchor_pose_raw(r))}),a.sendMessage(41,t=>{t.type(e),t.string(this._impl.world_tracker_ground_anchor_id(r))}),a.sendMessage(42,t=>{t.type(e),t.anchorStatus(this._impl.world_tracker_ground_anchor_status(r))}),a.sendMessage(40,t=>{t.type(e),t.matrix4x4(this._impl.world_tracker_ground_anchor_pose_raw(r))}),a.sendMessage(46,t=>{t.type(e),t.int(this._impl.world_tracker_tracks_data_size(r))}),a.sendMessage(45,t=>{t.type(e),t.floatArray(this._impl.world_tracker_tracks_data(r))}),a.sendMessage(48,t=>{t.type(e),t.int(this._impl.world_tracker_tracks_type_data_size(r))}),a.sendMessage(47,t=>{t.type(e),t.ucharArray(this._impl.world_tracker_tracks_type_data(r))}),a.sendMessage(51,t=>{t.type(e),t.int(this._impl.world_tracker_projections_data_size(r))}),a.sendMessage(50,t=>{t.type(e),t.floatArray(this._impl.world_tracker_projections_data(r))})}}for(let[e,r]of this._custom_anchor_by_instance){let t=this._pipeline_id_by_custom_anchor_id.get(e);if(!t)continue;let a=this.serializersByPipelineId.get(t);a&&(a.sendMessage(53,t=>{t.type(e),t.anchorStatus(this._impl.custom_anchor_status(r))}),a.sendMessage(54,t=>{t.type(e),t.int(this._impl.custom_anchor_pose_version(r))}),a.sendMessage(52,t=>{t.type(e),t.matrix4x4(this._impl.custom_anchor_pose_raw(r))}))}for(let[e,r]of this._d3_tracker_by_instance){let r=this._pipeline_id_by_d3_tracker_id.get(e);if(!r||!this.serializersByPipelineId.get(r))continue}}}var m=t(1937),u=t(6637),b=t(8044),h=t(2350),f=t(9682),y=t(1734),w=function(e,r,t,a){return new(t||(t=Promise))(function(_,n){function i(e){try{c(a.next(e))}catch(e){n(e)}}function s(e){try{c(a.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?_(e.value):((r=e.value)instanceof t?r:new t(function(e){e(r)})).then(i,s)}c((a=a.apply(e,r||[])).next())})};let k=new m.L,g=0,E=!1,A=new Map,z=new Map,R=0,M=0,v=1,I=u.vt(),T=new Float32Array([300,300,160,120,0,0]);function O(e){return new Promise(r=>{setTimeout(r,e)})}function L(e,r){let t=r.worker_message_send_count();if(0!==t){s&&c||((s=new MessageChannel).port1.start(),s.port1.addEventListener("message",t=>{if("msgrec"!==t.data.t)return;let a=t.data.data,_=e._malloc(a.byteLength);e.HEAPU8.set(a,_),r.worker_message_receive(t.data.reference,a.byteLength,_,0),e._free(_)}),(c=new MessageChannel).port1.start(),c.port1.addEventListener("message",t=>{if("msgrec"!==t.data.t)return;let a=t.data.data,_=e._malloc(a.byteLength);e.HEAPU8.set(a,_),r.worker_message_receive(t.data.reference,a.byteLength,_,1),e._free(_)}),k.postOutgoingMessage({t:"setupCeresWorker",port0:s.port2,port1:c.port2},[s.port2,c.port2]));for(let a=0;a<t;a++){let t=r.worker_message_send_reference(a),_=r.worker_message_send_data_size(a),n=r.worker_message_send_instance(a),i=r.worker_message_send_data(a),o=e.HEAPU8.slice(i,i+_);(0===n?s:c).port1.postMessage({t:"msgsend",data:o,reference:t,instance:n},[o.buffer])}r.worker_message_send_clear()}}function P(e,r){let t=r.data_download_size();if(0===t)return;let a=r.data_download(),_=e.HEAPU8.slice(a,a+t);k.postOutgoingMessage({t:"_z_datadownload",data:_},[_.buffer]),r.data_download_clear()}let F=self;k.onOutgoingMessage.bind(()=>{for(let e of k.getOutgoingMessages())F.postMessage(e.msg,e.transferables)});let C=e=>{var r;e&&e.data&&"wasm"===e.data.t&&(!function(e,r,t){w(this,void 0,void 0,function*(){let s=o.A({locateFile:(r,t)=>r.endsWith("zappar-cv.wasm")?e:t+r,instantiateWasm:(e,t)=>{let a=new WebAssembly.Instance(r,e);return t(a),a.exports},onRuntimeInitialized:()=>{let e,r,c,o,p,l,m,F,C,N,S,x,H,U,D,G,B,W,X,Y,j,q,V,K,Z,Q,J,$,ee,er,et,ea,e_,en,ei,es,ec,eo,ep,el,ed,em,eu,eb,eh,ef,ey,ew,ek,eg,eE,eA,ez,eR,eM,ev,eI,eT,eO,eL,eP,eF,eC,eN,eS,ex,eH,eU,eD,eG,eB,eW,eX,eY,ej,eq,eV,eK,eZ,eQ,eJ,e$,e0,e1,e2,e4,e3,e6,e8,e5,e7,e9,re,rr,rt,ra,r_,rn,ri,rs,rc,ro,rp,rl,rd,rm,ru,rb,rh,rf,ry,rw,rk,rg,rE,rA,rz,rR,rM,rv,rI,rT,rO,rL,rP,rF,rC,rN,rS,rx,rH=(e=s.cwrap("zappar_log_level","number",[]),r=s.cwrap("zappar_log_level_set",null,["number"]),c=s.cwrap("zappar_analytics_project_id_set",null,["string","string"]),o=s.cwrap("zappar_pipeline_create","number",[]),p=s.cwrap("zappar_pipeline_destroy",null,["number"]),l=s.cwrap("zappar_pipeline_camera_frame_data_raw","number",["number"]),m=s.cwrap("zappar_pipeline_camera_frame_data_raw_size","number",["number"]),F=s.cwrap("zappar_pipeline_frame_update",null,["number"]),C=s.cwrap("zappar_pipeline_frame_number","number",["number"]),N=s.cwrap("zappar_pipeline_camera_model","number",["number"]),S=s.cwrap("zappar_pipeline_camera_data_width","number",["number"]),x=s.cwrap("zappar_pipeline_camera_data_height","number",["number"]),H=s.cwrap("zappar_pipeline_camera_frame_user_data","number",["number"]),U=s.cwrap("zappar_pipeline_camera_frame_submit",null,["number","number","number","number","number","number","number","number","number","number"]),D=s.cwrap("zappar_pipeline_camera_frame_submit_raw_pointer",null,["number","number","number","number","number","number","number","number","number","number","number","number","number"]),G=s.cwrap("zappar_pipeline_camera_frame_camera_attitude","number",["number"]),B=s.cwrap("zappar_pipeline_camera_frame_device_attitude","number",["number"]),W=s.cwrap("zappar_pipeline_motion_accelerometer_submit",null,["number","number","number","number","number"]),X=s.cwrap("zappar_pipeline_motion_accelerometer_with_gravity_submit_int",null,["number","number","number","number","number","number"]),Y=s.cwrap("zappar_pipeline_motion_accelerometer_without_gravity_submit_int",null,["number","number","number","number","number","number"]),j=s.cwrap("zappar_pipeline_motion_rotation_rate_submit",null,["number","number","number","number","number"]),q=s.cwrap("zappar_pipeline_motion_rotation_rate_submit_int",null,["number","number","number","number","number","number"]),V=s.cwrap("zappar_pipeline_motion_attitude_submit",null,["number","number","number","number","number"]),K=s.cwrap("zappar_pipeline_motion_attitude_submit_int",null,["number","number","number","number","number","number"]),Z=s.cwrap("zappar_pipeline_motion_relative_orientation_submit_int",null,["number","number","number","number","number","number","number"]),Q=s.cwrap("zappar_pipeline_motion_attitude_matrix_submit",null,["number","number"]),J=s.cwrap("zappar_camera_source_create","number",["number","string"]),$=s.cwrap("zappar_camera_source_destroy",null,["number"]),ee=s.cwrap("zappar_sequence_source_create","number",["number"]),er=s.cwrap("zappar_sequence_source_destroy",null,["number"]),et=s.cwrap("zappar_image_tracker_create","number",["number"]),ea=s.cwrap("zappar_image_tracker_destroy",null,["number"]),e_=s.cwrap("zappar_image_tracker_target_load_from_memory",null,["number","number","number"]),en=s.cwrap("zappar_image_tracker_target_loaded_version","number",["number"]),ei=s.cwrap("zappar_image_tracker_enabled","number",["number"]),es=s.cwrap("zappar_image_tracker_enabled_set",null,["number","number"]),ec=s.cwrap("zappar_image_tracker_anchor_count","number",["number"]),eo=s.cwrap("zappar_image_tracker_anchor_id","string",["number","number"]),ep=s.cwrap("zappar_image_tracker_anchor_pose_raw","number",["number","number"]),el=s.cwrap("zappar_face_tracker_create","number",["number"]),ed=s.cwrap("zappar_face_tracker_destroy",null,["number"]),em=s.cwrap("zappar_face_tracker_model_load_from_memory",null,["number","number","number"]),eu=s.cwrap("zappar_face_tracker_model_loaded_version","number",["number"]),eb=s.cwrap("zappar_face_tracker_enabled_set",null,["number","number"]),eh=s.cwrap("zappar_face_tracker_enabled","number",["number"]),ef=s.cwrap("zappar_face_tracker_max_faces_set",null,["number","number"]),ey=s.cwrap("zappar_face_tracker_max_faces","number",["number"]),ew=s.cwrap("zappar_face_tracker_anchor_count","number",["number"]),ek=s.cwrap("zappar_face_tracker_anchor_id","string",["number","number"]),eg=s.cwrap("zappar_face_tracker_anchor_pose_raw","number",["number","number"]),eE=s.cwrap("zappar_face_tracker_anchor_identity_coefficients","number",["number","number"]),eA=s.cwrap("zappar_face_tracker_anchor_expression_coefficients","number",["number","number"]),ez=s.cwrap("zappar_face_mesh_create","number",[]),eR=s.cwrap("zappar_face_mesh_destroy",null,["number"]),eM=s.cwrap("zappar_face_landmark_create","number",["number"]),ev=s.cwrap("zappar_face_landmark_destroy",null,["number"]),eI=s.cwrap("zappar_barcode_finder_create","number",["number"]),eT=s.cwrap("zappar_barcode_finder_destroy",null,["number"]),eO=s.cwrap("zappar_barcode_finder_enabled_set",null,["number","number"]),eL=s.cwrap("zappar_barcode_finder_enabled","number",["number"]),eP=s.cwrap("zappar_barcode_finder_found_number","number",["number"]),eF=s.cwrap("zappar_barcode_finder_found_text","string",["number","number"]),eC=s.cwrap("zappar_barcode_finder_found_format","number",["number","number"]),eN=s.cwrap("zappar_barcode_finder_formats","number",["number"]),eS=s.cwrap("zappar_barcode_finder_formats_set",null,["number","number"]),ex=s.cwrap("zappar_instant_world_tracker_create","number",["number"]),eH=s.cwrap("zappar_instant_world_tracker_destroy",null,["number"]),eU=s.cwrap("zappar_instant_world_tracker_enabled_set",null,["number","number"]),eD=s.cwrap("zappar_instant_world_tracker_enabled","number",["number"]),eG=s.cwrap("zappar_instant_world_tracker_anchor_pose_raw","number",["number"]),eB=s.cwrap("zappar_instant_world_tracker_anchor_pose_set_from_camera_offset_raw",null,["number","number","number","number","number"]),eW=s.cwrap("zappar_zapcode_tracker_create","number",["number"]),eX=s.cwrap("zappar_zapcode_tracker_destroy",null,["number"]),eY=s.cwrap("zappar_zapcode_tracker_target_load_from_memory",null,["number","number","number"]),ej=s.cwrap("zappar_zapcode_tracker_target_loaded_version","number",["number"]),eq=s.cwrap("zappar_zapcode_tracker_enabled","number",["number"]),eV=s.cwrap("zappar_zapcode_tracker_enabled_set",null,["number","number"]),eK=s.cwrap("zappar_zapcode_tracker_anchor_count","number",["number"]),eZ=s.cwrap("zappar_zapcode_tracker_anchor_id","string",["number","number"]),eQ=s.cwrap("zappar_zapcode_tracker_anchor_pose_raw","number",["number","number"]),eJ=s.cwrap("zappar_world_tracker_create","number",["number"]),e$=s.cwrap("zappar_world_tracker_destroy",null,["number"]),e0=s.cwrap("zappar_world_tracker_enabled","number",["number"]),e1=s.cwrap("zappar_world_tracker_enabled_set",null,["number","number"]),e2=s.cwrap("zappar_world_tracker_session_number","number",["number"]),e4=s.cwrap("zappar_world_tracker_quality","number",["number"]),e3=s.cwrap("zappar_world_tracker_horizontal_plane_detection_enabled","number",["number"]),e6=s.cwrap("zappar_world_tracker_horizontal_plane_detection_enabled_set",null,["number","number"]),e8=s.cwrap("zappar_world_tracker_vertical_plane_detection_enabled","number",["number"]),e5=s.cwrap("zappar_world_tracker_vertical_plane_detection_enabled_set",null,["number","number"]),e7=s.cwrap("zappar_world_tracker_plane_anchor_count","number",["number"]),e9=s.cwrap("zappar_world_tracker_plane_anchor_id","string",["number","number"]),re=s.cwrap("zappar_world_tracker_plane_anchor_pose_raw","number",["number","number"]),rr=s.cwrap("zappar_world_tracker_plane_anchor_status","number",["number","number"]),rt=s.cwrap("zappar_world_tracker_plane_anchor_polygon_data_size","number",["number","number"]),ra=s.cwrap("zappar_world_tracker_plane_anchor_polygon_data","number",["number","number"]),r_=s.cwrap("zappar_world_tracker_plane_anchor_polygon_version","number",["number","number"]),rn=s.cwrap("zappar_world_tracker_plane_anchor_orientation","number",["number","number"]),ri=s.cwrap("zappar_world_tracker_world_anchor_status","number",["number"]),rs=s.cwrap("zappar_world_tracker_world_anchor_id","string",["number"]),rc=s.cwrap("zappar_world_tracker_world_anchor_pose_raw","number",["number"]),ro=s.cwrap("zappar_world_tracker_ground_anchor_id","string",["number"]),rp=s.cwrap("zappar_world_tracker_ground_anchor_status","number",["number"]),rl=s.cwrap("zappar_world_tracker_ground_anchor_pose_raw","number",["number"]),rd=s.cwrap("zappar_world_tracker_reset",null,["number"]),rm=s.cwrap("zappar_world_tracker_tracks_data_enabled","number",["number"]),ru=s.cwrap("zappar_world_tracker_tracks_data_enabled_set",null,["number","number"]),rb=s.cwrap("zappar_world_tracker_tracks_data_size","number",["number"]),rh=s.cwrap("zappar_world_tracker_tracks_data","number",["number"]),rf=s.cwrap("zappar_world_tracker_tracks_type_data_size","number",["number"]),ry=s.cwrap("zappar_world_tracker_tracks_type_data","number",["number"]),rw=s.cwrap("zappar_world_tracker_projections_data_enabled","number",["number"]),rk=s.cwrap("zappar_world_tracker_projections_data_enabled_set",null,["number","number"]),rg=s.cwrap("zappar_world_tracker_projections_data_size","number",["number"]),rE=s.cwrap("zappar_world_tracker_projections_data","number",["number"]),rA=s.cwrap("zappar_custom_anchor_create","number",["number","number","string"]),rz=s.cwrap("zappar_custom_anchor_destroy",null,["number"]),rR=s.cwrap("zappar_custom_anchor_status","number",["number"]),rM=s.cwrap("zappar_custom_anchor_pose_version","number",["number"]),rv=s.cwrap("zappar_custom_anchor_pose_raw","number",["number"]),rI=s.cwrap("zappar_custom_anchor_pose_set_from_camera_offset_raw",null,["number","number","number","number","number"]),rT=s.cwrap("zappar_custom_anchor_pose_set_from_anchor_offset",null,["number","string","number","number","number","number"]),rO=s.cwrap("zappar_custom_anchor_pose_set",null,["number","number"]),rL=s.cwrap("zappar_custom_anchor_pose_set_with_parent",null,["number","number","string"]),rP=s.cwrap("zappar_d3_tracker_create","number",["number"]),rF=s.cwrap("zappar_d3_tracker_destroy",null,["number"]),rC=32,rN=s._malloc(rC),s._malloc(64),rS=new Map,rx=(e,r)=>{let t=rS.get(e);return(!t||t[0]<r)&&(t&&s._free(t[1]),t=[r,s._malloc(r)],rS.set(e,t)),t[1]},{log_level:()=>e(),log_level_set:e=>r(e),analytics_project_id_set:(e,r)=>c(e,r),pipeline_create:()=>o(),pipeline_destroy:()=>{p()},pipeline_camera_frame_data_raw:e=>l(e),pipeline_camera_frame_data_raw_size:e=>m(e),pipeline_frame_update:e=>F(e),pipeline_frame_number:e=>C(e),pipeline_camera_model:e=>{let r=N(e),t=new Float32Array(6);return t.set(s.HEAPF32.subarray(r/4,6+r/4)),r=t},pipeline_camera_data_width:e=>S(e),pipeline_camera_data_height:e=>x(e),pipeline_camera_frame_user_data:e=>H(e),pipeline_camera_frame_submit:(e,r,t,a,_,n,i,c,o)=>{rC<r.byteLength&&(s._free(rN),rC=r.byteLength,rN=s._malloc(rC));let p=rN,l=r.byteLength;s.HEAPU8.set(new Uint8Array(r),rN);let d=rx(4,n.byteLength);s.HEAPF32.set(n,d/4);let m=rx(5,i.byteLength);return s.HEAPF32.set(i,m/4),U(e,p,l,t,a,_,d,m,+!!c,o)},pipeline_camera_frame_submit_raw_pointer:(e,r,t,a,_,n,i,c,o,p,l,d,m)=>{let u=rx(6,c.byteLength);s.HEAPF32.set(c,u/4);let b=rx(8,p.byteLength);return s.HEAPF32.set(p,b/4),D(e,r,t,a,_,n,i,u,o,b,+!!l,d,+!!m)},pipeline_camera_frame_camera_attitude:e=>{let r=G(e),t=new Float32Array(16);return t.set(s.HEAPF32.subarray(r/4,16+r/4)),r=t},pipeline_camera_frame_device_attitude:e=>{let r=B(e),t=new Float32Array(16);return t.set(s.HEAPF32.subarray(r/4,16+r/4)),r=t},pipeline_motion_accelerometer_submit:(e,r,t,a,_)=>W(e,r,t,a,_),pipeline_motion_accelerometer_with_gravity_submit_int:(e,r,t,a,_,n)=>X(e,r,t,a,_,n),pipeline_motion_accelerometer_without_gravity_submit_int:(e,r,t,a,_,n)=>Y(e,r,t,a,_,n),pipeline_motion_rotation_rate_submit:(e,r,t,a,_)=>j(e,r,t,a,_),pipeline_motion_rotation_rate_submit_int:(e,r,t,a,_,n)=>q(e,r,t,a,_,n),pipeline_motion_attitude_submit:(e,r,t,a,_)=>V(e,r,t,a,_),pipeline_motion_attitude_submit_int:(e,r,t,a,_,n)=>K(e,r,t,a,_,n),pipeline_motion_relative_orientation_submit_int:(e,r,t,a,_,n,i)=>Z(e,r,t,a,_,n,i),pipeline_motion_attitude_matrix_submit:(e,r)=>{let t=rx(0,r.byteLength);return s.HEAPF32.set(r,t/4),Q(e,t)},camera_source_create:(e,r)=>J(e,r),camera_source_destroy:()=>{$()},sequence_source_create:e=>ee(e),sequence_source_destroy:()=>{er()},image_tracker_create:e=>et(e),image_tracker_destroy:()=>{ea()},image_tracker_target_load_from_memory:(e,r)=>{rC<r.byteLength&&(s._free(rN),rC=r.byteLength,rN=s._malloc(rC));let t=rN,a=r.byteLength;return s.HEAPU8.set(new Uint8Array(r),rN),e_(e,t,a)},image_tracker_target_loaded_version:e=>en(e),image_tracker_enabled:e=>{let r=ei(e);return 1===r},image_tracker_enabled_set:(e,r)=>es(e,+!!r),image_tracker_anchor_count:e=>ec(e),image_tracker_anchor_id:(e,r)=>eo(e,r),image_tracker_anchor_pose_raw:(e,r)=>{let t=ep(e,r),a=new Float32Array(16);return a.set(s.HEAPF32.subarray(t/4,16+t/4)),t=a},face_tracker_create:e=>el(e),face_tracker_destroy:()=>{ed()},face_tracker_model_load_from_memory:(e,r)=>{rC<r.byteLength&&(s._free(rN),rC=r.byteLength,rN=s._malloc(rC));let t=rN,a=r.byteLength;return s.HEAPU8.set(new Uint8Array(r),rN),em(e,t,a)},face_tracker_model_loaded_version:e=>eu(e),face_tracker_enabled_set:(e,r)=>eb(e,+!!r),face_tracker_enabled:e=>{let r=eh(e);return 1===r},face_tracker_max_faces_set:(e,r)=>ef(e,r),face_tracker_max_faces:e=>ey(e),face_tracker_anchor_count:e=>ew(e),face_tracker_anchor_id:(e,r)=>ek(e,r),face_tracker_anchor_pose_raw:(e,r)=>{let t=eg(e,r),a=new Float32Array(16);return a.set(s.HEAPF32.subarray(t/4,16+t/4)),t=a},face_tracker_anchor_identity_coefficients:(e,r)=>{let t=eE(e,r),a=new Float32Array(50);return a.set(s.HEAPF32.subarray(t/4,50+t/4)),t=a},face_tracker_anchor_expression_coefficients:(e,r)=>{let t=eA(e,r),a=new Float32Array(29);return a.set(s.HEAPF32.subarray(t/4,29+t/4)),t=a},face_mesh_create:()=>ez(),face_mesh_destroy:()=>{eR()},face_landmark_create:e=>eM(e),face_landmark_destroy:()=>{ev()},barcode_finder_create:e=>eI(e),barcode_finder_destroy:()=>{eT()},barcode_finder_enabled_set:(e,r)=>eO(e,+!!r),barcode_finder_enabled:e=>{let r=eL(e);return 1===r},barcode_finder_found_number:e=>eP(e),barcode_finder_found_text:(e,r)=>eF(e,r),barcode_finder_found_format:(e,r)=>eC(e,r),barcode_finder_formats:e=>eN(e),barcode_finder_formats_set:(e,r)=>eS(e,r),instant_world_tracker_create:e=>ex(e),instant_world_tracker_destroy:()=>{eH()},instant_world_tracker_enabled_set:(e,r)=>eU(e,+!!r),instant_world_tracker_enabled:e=>{let r=eD(e);return 1===r},instant_world_tracker_anchor_pose_raw:e=>{let r=eG(e),t=new Float32Array(16);return t.set(s.HEAPF32.subarray(r/4,16+r/4)),r=t},instant_world_tracker_anchor_pose_set_from_camera_offset_raw:(e,r,t,a,_)=>eB(e,r,t,a,_),zapcode_tracker_create:e=>eW(e),zapcode_tracker_destroy:()=>{eX()},zapcode_tracker_target_load_from_memory:(e,r)=>{rC<r.byteLength&&(s._free(rN),rC=r.byteLength,rN=s._malloc(rC));let t=rN,a=r.byteLength;return s.HEAPU8.set(new Uint8Array(r),rN),eY(e,t,a)},zapcode_tracker_target_loaded_version:e=>ej(e),zapcode_tracker_enabled:e=>{let r=eq(e);return 1===r},zapcode_tracker_enabled_set:(e,r)=>eV(e,+!!r),zapcode_tracker_anchor_count:e=>eK(e),zapcode_tracker_anchor_id:(e,r)=>eZ(e,r),zapcode_tracker_anchor_pose_raw:(e,r)=>{let t=eQ(e,r),a=new Float32Array(16);return a.set(s.HEAPF32.subarray(t/4,16+t/4)),t=a},world_tracker_create:e=>eJ(e),world_tracker_destroy:()=>{e$()},world_tracker_enabled:e=>{let r=e0(e);return 1===r},world_tracker_enabled_set:(e,r)=>e1(e,+!!r),world_tracker_session_number:e=>e2(e),world_tracker_quality:e=>e4(e),world_tracker_horizontal_plane_detection_enabled:e=>{let r=e3(e);return 1===r},world_tracker_horizontal_plane_detection_enabled_set:(e,r)=>e6(e,+!!r),world_tracker_vertical_plane_detection_enabled:e=>{let r=e8(e);return 1===r},world_tracker_vertical_plane_detection_enabled_set:(e,r)=>e5(e,+!!r),world_tracker_plane_anchor_count:e=>e7(e),world_tracker_plane_anchor_id:(e,r)=>e9(e,r),world_tracker_plane_anchor_pose_raw:(e,r)=>{let t=re(e,r),a=new Float32Array(16);return a.set(s.HEAPF32.subarray(t/4,16+t/4)),t=a},world_tracker_plane_anchor_status:(e,r)=>rr(e,r),world_tracker_plane_anchor_polygon_data_size:(e,r)=>rt(e,r),world_tracker_plane_anchor_polygon_data:(e,r)=>{let t=ra(e,r),a=rt(e,r),_=new Float32Array(a);return _.set(s.HEAPF32.subarray(t/4,a+t/4)),t=_},world_tracker_plane_anchor_polygon_version:(e,r)=>r_(e,r),world_tracker_plane_anchor_orientation:(e,r)=>rn(e,r),world_tracker_world_anchor_status:e=>ri(e),world_tracker_world_anchor_id:e=>rs(e),world_tracker_world_anchor_pose_raw:e=>{let r=rc(e),t=new Float32Array(16);return t.set(s.HEAPF32.subarray(r/4,16+r/4)),r=t},world_tracker_ground_anchor_id:e=>ro(e),world_tracker_ground_anchor_status:e=>rp(e),world_tracker_ground_anchor_pose_raw:e=>{let r=rl(e),t=new Float32Array(16);return t.set(s.HEAPF32.subarray(r/4,16+r/4)),r=t},world_tracker_reset:e=>rd(e),world_tracker_tracks_data_enabled:e=>{let r=rm(e);return 1===r},world_tracker_tracks_data_enabled_set:(e,r)=>ru(e,+!!r),world_tracker_tracks_data_size:e=>rb(e),world_tracker_tracks_data:e=>{let r=rh(e),t=rb(e),a=new Float32Array(t);return a.set(s.HEAPF32.subarray(r/4,t+r/4)),r=a},world_tracker_tracks_type_data_size:e=>rf(e),world_tracker_tracks_type_data:e=>{let r=ry(e),t=rf(e),a=new Uint8Array(t);return a.set(s.HEAPU8.subarray(r,t+r)),r=a},world_tracker_projections_data_enabled:e=>{let r=rw(e);return 1===r},world_tracker_projections_data_enabled_set:(e,r)=>rk(e,+!!r),world_tracker_projections_data_size:e=>rg(e),world_tracker_projections_data:e=>{let r=rE(e),t=rg(e),a=new Float32Array(t);return a.set(s.HEAPF32.subarray(r/4,t+r/4)),r=a},custom_anchor_create:(e,r,t)=>rA(e,r,t),custom_anchor_destroy:()=>{rz()},custom_anchor_status:e=>rR(e),custom_anchor_pose_version:e=>rM(e),custom_anchor_pose_raw:e=>{let r=rv(e),t=new Float32Array(16);return t.set(s.HEAPF32.subarray(r/4,16+r/4)),r=t},custom_anchor_pose_set_from_camera_offset_raw:(e,r,t,a,_)=>rI(e,r,t,a,_),custom_anchor_pose_set_from_anchor_offset:(e,r,t,a,_,n)=>rT(e,r,t,a,_,n),custom_anchor_pose_set:(e,r)=>{let t=rx(0,r.byteLength);return s.HEAPF32.set(r,t/4),rO(e,t)},custom_anchor_pose_set_with_parent:(e,r,t)=>{let a=rx(0,r.byteLength);return s.HEAPF32.set(r,a/4),rL(e,a,t)},d3_tracker_create:e=>rP(e),d3_tracker_destroy:()=>{rF()}}),rU=(0,y.s)(s),rD=t>0?{data_download_clear:s.cwrap("data_download_clear",null,[]),data_download_size:s.cwrap("data_download_size","number",[]),data_download:s.cwrap("data_download","number",[]),data_should_record_set:s.cwrap("data_should_record_set",null,["number"])}:void 0;null==rD||rD.data_should_record_set(t);let rG=new d(rH,(e,r)=>{k.postOutgoingMessage({p:e,t:"zappar",d:r},[r])});k.postOutgoingMessage("loaded",[]),k.onIncomingMessage.bind(e=>{var r,t,c;switch(e.t){case"zappar":rG.processBuffer(e.d),k.postOutgoingMessage({t:"buf",d:e.d},[e.d]);break;case"buf":null==(r=rG.serializersByPipelineId.get(e.p))||r.bufferReturn(e.d);break;case"cameraFrameC2S":{let r,t=rG._pipeline_by_instance.get(e.p);t&&(rH.pipeline_camera_frame_submit(t,e.d,e.width,e.height,e.token,e.c2d,e.cm,e.userFacing,e.captureTime),rH.pipeline_frame_update(t),r=rH.pipeline_camera_frame_device_attitude(t),rG.exploreState(),L(s,rU),rD&&P(s,rD));let a={token:e.token,d:e.d,p:e.p,t:"cameraFrameRecycleS2C",att:r};k.postOutgoingMessage(a,[e.d]);break}case"rawenabled":E=e.v;break;case"rawrequest":{let r=A.get(e.p),a={t:"raw",token:e.token,p:e.p,data:r&&null!=(c=null==(t=r.ready.find(r=>r.token===e.token))?void 0:t.data)?c:null};k.postOutgoingMessage(a,[]);break}case"cameraProfileC2S":z.set(e.source,e.p);break;case"streamC2S":(function(e,r,t,a,_,n,i,s,c){return w(this,void 0,void 0,function*(){for(;;){let o;try{o=yield t.getReader()}catch(e){yield O(1e3);continue}try{yield function(e,r,t,a,_,n,i,s,c){var o,p;return w(this,void 0,void 0,function*(){for(;;){let l,d=yield function(e){return new Promise((r,t)=>{let a=setTimeout(()=>{t("Frame timeout")},2e3);e.read().then(e=>{clearTimeout(a),r(e)})})}(t);if(d.done){null==(o=d.value)||o.close();return}let m=d.value,h=m.allocationSize();h>M&&(R>0&&e._free(R),R=e._malloc(h),M=h),yield m.copyTo(e.HEAPU8.subarray(R,R+M));let f=v;v++;let y=m.visibleRect.width,w=m.visibleRect.height,O=y,F=w;switch(g){case 270:l=new Float32Array([0,1,0,0,-1,0,0,0,0,0,1,0,1,0,0,1]),O=w,F=y;break;case 180:l=new Float32Array([-1,0,0,0,0,-1,0,0,0,0,1,0,1,1,0,1]);break;case 90:l=new Float32Array([0,-1,0,0,1,0,0,0,0,0,1,0,0,1,0,1]),O=w,F=y;break;default:l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}let C=!1;z.get(i)!==b.HE.HIGH&&(O/=2,F/=2,C=!0);let N=m.clone();_?u.CV(I,[-1,1,-1]):u.D_(I);let S=(_?300:240)*O/320;T[0]=S,T[1]=S,T[2]=.5*O,T[3]=.5*F;let x={token:f,d:N,p:a,t:"videoFrameS2C",userFacing:_,uvTransform:l,w:O,h:F,cameraToDevice:I,cameraModel:T,source:i};k.postOutgoingMessage(x,[x.d,x.uvTransform.buffer]);let H=n._pipeline_by_instance.get(a);if(H){try{r.pipeline_camera_frame_submit_raw_pointer(H,R,h,function(e){switch(e){case"I420":return b.ss.FRAME_PIXEL_FORMAT_I420;case"I420A":return b.ss.FRAME_PIXEL_FORMAT_I420A;case"I422":return b.ss.FRAME_PIXEL_FORMAT_I422;case"I444":return b.ss.FRAME_PIXEL_FORMAT_I444;case"NV12":return b.ss.FRAME_PIXEL_FORMAT_NV12;case"RGBA":case"RGBX":return b.ss.FRAME_PIXEL_FORMAT_RGBA;case"BGRA":case"BGRX":return b.ss.FRAME_PIXEL_FORMAT_BGRA}return b.ss.FRAME_PIXEL_FORMAT_Y}(m.format),y,w,f,I,g,T,_,null!=(p=m.timestamp)?p:-1,C),L(e,s),c&&P(e,c)}catch(e){console.log("Exception during camera processing",e)}if(r.pipeline_frame_update(H),E){let t,_=A.get(a);if(_||(_={available:[],ready:[]},A.set(a,_)),_.ready.length>4)for(let e of _.ready.splice(0,1))_.available.push(new Uint8Array(e.data.data));let n=r.pipeline_camera_frame_data_raw_size(H);for(;!t||t.byteLength<n;)_.available.length<1&&_.available.push(new Uint8Array(n)),t=_.available.pop();let i=r.pipeline_camera_frame_data_raw(H);t.set(e.HEAPU8.subarray(i,i+n)),_.ready.push({token:f,data:{data:t,width:r.pipeline_camera_data_width(a),height:r.pipeline_camera_data_height(a)}})}n.exploreState()}m.close()}})}(e,r,o,a,_,n,i,s,c);return}catch(e){}yield O(1e3);return}})})(s,rH,e.s,e.p,e.userFacing,rG,e.source,rU,rD).then(()=>{let r={t:"streamEndedS2C",p:e.p,source:e.source};k.postOutgoingMessage(r,[])}).catch(e=>{});break;case"cameraToScreenC2S":g=e.r;break;case"imageBitmapC2S":!function(e,r,t,s){let[c,o]=function(){if(!n||!i){if(!(i=new OffscreenCanvas(1,1).getContext("webgl")))throw Error("Unable to get offscreen GL context");n=new h.O(i)}return[n,i]}();if(_||(_=o.createTexture(),o.bindTexture(o.TEXTURE_2D,_),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR)),!_)return;let[p,l]=f.M.getDataSize(e.cp);(!a||a.byteLength<p*l)&&(a=new ArrayBuffer(p*l)),c.uploadFrame(_,e.i,e.r,e.userFacing,e.cp);let d=c.readFrame(_,a,e.cp),m={t:"imageBitmapS2C",dataWidth:d.dataWidth,dataHeight:d.dataHeight,frame:e.i,userFacing:d.userFacing,uvTransform:d.uvTransform||u.vt(),tokenId:e.tokenId,p:e.p};s.postOutgoingMessage(m,[e.i]);let b=t._pipeline_by_instance.get(e.p);b&&(r.pipeline_camera_frame_submit(b,a,d.dataWidth,d.dataHeight,e.tokenId,e.cameraToDevice,e.cameraModel,d.userFacing,performance.now()),r.pipeline_frame_update(b),t.exploreState())}(e,rH,rG,k);break;case"sensorDataC2S":{let r=rG._pipeline_by_instance.get(e.p);if(!r)break;switch(e.sensor){case"accel":rH.pipeline_motion_accelerometer_submit(r,e.timestamp,e.x,e.y,e.z);break;case"accel_w_gravity_int":rH.pipeline_motion_accelerometer_with_gravity_submit_int(r,e.timestamp,e.interval,e.x,e.y,e.z);break;case"accel_wo_gravity_int":rH.pipeline_motion_accelerometer_without_gravity_submit_int(r,e.timestamp,e.interval,e.x,e.y,e.z);break;case"attitude_int":rH.pipeline_motion_attitude_submit_int(r,e.timestamp,e.interval,e.x,e.y,e.z);break;case"attitude":rH.pipeline_motion_attitude_submit(r,e.timestamp,e.x,e.y,e.z);break;case"rotation_rate_int":rH.pipeline_motion_rotation_rate_submit_int(r,e.timestamp,e.interval,e.x,e.y,e.z);break;case"rotation_rate":rH.pipeline_motion_rotation_rate_submit(r,e.timestamp,e.x,e.y,e.z);break;case"relative_orientation":rH.pipeline_motion_relative_orientation_submit_int(r,e.timestamp,e.interval,e.x,e.y,e.z,e.w)}break}case"attitudeMatrixC2S":{let r=rG._pipeline_by_instance.get(e.p);if(!r)break;rH.pipeline_motion_attitude_matrix_submit(r,e.m)}}})}})})}(location.href.startsWith("blob")?e.data.url:new t.U(t(6391)).toString(),e.data.module,null!=(r=e.data.shouldRecordData)?r:0),F.removeEventListener("message",C))};F.addEventListener("message",C),F.addEventListener("message",e=>{k.postIncomingMessage(e.data)})},6637:(e,r,t)=>{"use strict";t.d(r,{CV:()=>i,D_:()=>n,vt:()=>_});var a=t(1142);function _(){var e=new a.tb(16);return a.tb!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function n(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function i(e,r){return e[0]=r[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=r[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},8044:(e,r,t)=>{"use strict";var a,_,n,i,s,c,o,p,l,d,m;t.d(r,{HE:()=>m,ss:()=>c}),function(e){e[e.UNKNOWN=131072]="UNKNOWN",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=4]="CODE_39",e[e.CODE_93=8]="CODE_93",e[e.CODE_128=16]="CODE_128",e[e.DATA_MATRIX=32]="DATA_MATRIX",e[e.EAN_8=64]="EAN_8",e[e.EAN_13=128]="EAN_13",e[e.ITF=256]="ITF",e[e.MAXICODE=512]="MAXICODE",e[e.PDF_417=1024]="PDF_417",e[e.QR_CODE=2048]="QR_CODE",e[e.RSS_14=4096]="RSS_14",e[e.RSS_EXPANDED=8192]="RSS_EXPANDED",e[e.UPC_A=16384]="UPC_A",e[e.UPC_E=32768]="UPC_E",e[e.UPC_EAN_EXTENSION=65536]="UPC_EAN_EXTENSION",e[e.ALL=131071]="ALL"}(a||(a={})),function(e){e[e.EYE_LEFT=0]="EYE_LEFT",e[e.EYE_RIGHT=1]="EYE_RIGHT",e[e.EAR_LEFT=2]="EAR_LEFT",e[e.EAR_RIGHT=3]="EAR_RIGHT",e[e.NOSE_BRIDGE=4]="NOSE_BRIDGE",e[e.NOSE_TIP=5]="NOSE_TIP",e[e.NOSE_BASE=6]="NOSE_BASE",e[e.LIP_TOP=7]="LIP_TOP",e[e.LIP_BOTTOM=8]="LIP_BOTTOM",e[e.MOUTH_CENTER=9]="MOUTH_CENTER",e[e.CHIN=10]="CHIN",e[e.EYEBROW_LEFT=11]="EYEBROW_LEFT",e[e.EYEBROW_RIGHT=12]="EYEBROW_RIGHT"}(_||(_={})),function(e){e[e.WORLD=3]="WORLD",e[e.MINUS_Z_AWAY_FROM_USER=4]="MINUS_Z_AWAY_FROM_USER",e[e.MINUS_Z_HEADING=5]="MINUS_Z_HEADING",e[e.UNCHANGED=6]="UNCHANGED"}(n||(n={})),function(e){e[e.UNCHANGED=0]="UNCHANGED",e[e.WORLD=1]="WORLD",e[e.PARENT=2]="PARENT",e[e.Z_TOWARDS_CAMERA=3]="Z_TOWARDS_CAMERA"}(i||(i={})),function(e){e[e.LOG_LEVEL_NONE=0]="LOG_LEVEL_NONE",e[e.LOG_LEVEL_ERROR=1]="LOG_LEVEL_ERROR",e[e.LOG_LEVEL_WARNING=2]="LOG_LEVEL_WARNING",e[e.LOG_LEVEL_VERBOSE=3]="LOG_LEVEL_VERBOSE"}(s||(s={})),function(e){e[e.FRAME_PIXEL_FORMAT_I420=0]="FRAME_PIXEL_FORMAT_I420",e[e.FRAME_PIXEL_FORMAT_I420A=1]="FRAME_PIXEL_FORMAT_I420A",e[e.FRAME_PIXEL_FORMAT_I422=2]="FRAME_PIXEL_FORMAT_I422",e[e.FRAME_PIXEL_FORMAT_I444=3]="FRAME_PIXEL_FORMAT_I444",e[e.FRAME_PIXEL_FORMAT_NV12=4]="FRAME_PIXEL_FORMAT_NV12",e[e.FRAME_PIXEL_FORMAT_RGBA=5]="FRAME_PIXEL_FORMAT_RGBA",e[e.FRAME_PIXEL_FORMAT_BGRA=6]="FRAME_PIXEL_FORMAT_BGRA",e[e.FRAME_PIXEL_FORMAT_Y=7]="FRAME_PIXEL_FORMAT_Y"}(c||(c={})),function(e){e[e.IMAGE_TRACKER_TYPE_PLANAR=0]="IMAGE_TRACKER_TYPE_PLANAR",e[e.IMAGE_TRACKER_TYPE_CYLINDRICAL=1]="IMAGE_TRACKER_TYPE_CYLINDRICAL",e[e.IMAGE_TRACKER_TYPE_CONICAL=2]="IMAGE_TRACKER_TYPE_CONICAL"}(o||(o={})),function(e){e[e.WORLD_TRACKER_QUALITY_INITIALIZING=0]="WORLD_TRACKER_QUALITY_INITIALIZING",e[e.WORLD_TRACKER_QUALITY_GOOD=1]="WORLD_TRACKER_QUALITY_GOOD",e[e.WORLD_TRACKER_QUALITY_LIMITED=2]="WORLD_TRACKER_QUALITY_LIMITED",e[e.WORLD_TRACKER_QUALITY_INACTIVE=3]="WORLD_TRACKER_QUALITY_INACTIVE"}(p||(p={})),function(e){e[e.ANCHOR_STATUS_INITIALIZING=0]="ANCHOR_STATUS_INITIALIZING",e[e.ANCHOR_STATUS_TRACKING=1]="ANCHOR_STATUS_TRACKING",e[e.ANCHOR_STATUS_PAUSED=2]="ANCHOR_STATUS_PAUSED",e[e.ANCHOR_STATUS_STOPPED=3]="ANCHOR_STATUS_STOPPED"}(l||(l={})),function(e){e[e.PLANE_ORIENTATION_HORIZONTAL=0]="PLANE_ORIENTATION_HORIZONTAL",e[e.PLANE_ORIENTATION_VERTICAL=1]="PLANE_ORIENTATION_VERTICAL"}(d||(d={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.HIGH=1]="HIGH"}(m||(m={}))},9682:(e,r,t)=>{"use strict";t.d(r,{M:()=>i});var a,_=t(2401),n=t(8044);!function(e){e[e.OBJECT_URL=0]="OBJECT_URL",e[e.SRC_OBJECT=1]="SRC_OBJECT"}(a||(a={}));let i={deviceMotionMutliplier:-1,blacklisted:!1,showGyroPermissionsWarningIfNecessary:!1,showSafariPermissionsResetIfNecessary:!1,requestHighFrameRate:!1,videoWidth:640,videoHeight:480,getDataSize:e=>e===n.HE.HIGH?[640,480]:[320,240],videoElementInDOM:!1,preferMediaStreamTrackProcessorCamera:!1,preferImageBitmapCamera:!1,ios164CameraSelection:!1,relyOnConstraintsForCameraSelection:!1,forceWindowOrientation:!1,intervalMultiplier:1,trustSensorIntervals:!1,offscreenCanvasSupported:void 0!==globalThis.OffscreenCanvas};"undefined"!=typeof window&&(window.zeeProfile=i,window.location.href.indexOf("_mstppipeline")>=0&&(console.log("Configuring for MSTP camera pipeline (if supported)"),i.preferMediaStreamTrackProcessorCamera=!0),window.location.href.indexOf("_imagebitmappipeline")>=0&&(console.log("Configuring for ImageBitmap camera pipeline (if supported)"),i.preferImageBitmapCamera=!0));let s=new _.UAParser,c=(s.getOS().name||"unknown").toLowerCase(),o=(s.getEngine().name||"unknown").toLowerCase();function p(e){i.forceWindowOrientation=!0,i.preferMediaStreamTrackProcessorCamera=!1,i.intervalMultiplier=1e3,i.trustSensorIntervals=!0;let r=e.split(".");if(r.length>=2){let e=parseInt(r[0]),t=parseInt(r[1]);(e<11||11===e&&t<3)&&(i.blacklisted=!0),(e<12||12===e&&t<2)&&(i.videoElementInDOM=!0),(12===e&&t>=2||e>=13)&&(i.showGyroPermissionsWarningIfNecessary=!0),e>=13&&(i.showSafariPermissionsResetIfNecessary=!0),(e>=12&&t>1||e>=13)&&navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints&&navigator.mediaDevices.getSupportedConstraints().frameRate&&(i.requestHighFrameRate=!0,e<14&&(i.videoHeight=360,i.getDataSize=e=>e===n.HE.HIGH?[640,360]:[320,180])),16===e&&t>=4&&(i.ios164CameraSelection=!0),e>=17&&(i.relyOnConstraintsForCameraSelection=!0)}}"webkit"===o&&"ios"!==c&&(i.deviceMotionMutliplier=1,"undefined"!=typeof window&&void 0!==window.orientation&&p("15.0")),"webkit"===o&&"ios"===c&&(i.deviceMotionMutliplier=1,p(s.getOS().version||"15.0"))}},r={};function t(a){var _=r[a];if(void 0!==_)return _.exports;var n=r[a]={exports:{}},i=!0;try{e[a].call(n.exports,n,n.exports,t),i=!1}finally{i&&delete r[a]}return n.exports}t.m=e,t.x=()=>{var e=t.O(void 0,[472,285],()=>t(6606));return t.O(e)},t.amdO={},(()=>{var e=[];t.O=(r,a,_,n)=>{if(a){n=n||0;for(var i=e.length;i>0&&e[i-1][2]>n;i--)e[i]=e[i-1];e[i]=[a,_,n];return}for(var s=1/0,i=0;i<e.length;i++){for(var[a,_,n]=e[i],c=!0,o=0;o<a.length;o++)(!1&n||s>=n)&&Object.keys(t.O).every(e=>t.O[e](a[o]))?a.splice(o--,1):(c=!1,n<s&&(s=n));if(c){e.splice(i--,1);var p=_();void 0!==p&&(r=p)}}return r}})(),t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var a in r)t.o(r,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})},t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce((r,a)=>(t.f[a](e,r),r),[])),t.u=e=>"static/chunks/"+e+"."+({285:"4a8daa9636b94f78",472:"659b13ef88c0bac8"})[e]+".js",t.miniCssF=e=>{},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.U=function(e){var r=new URL(e,"x:/"),t={};for(var a in r)t[a]=r[a];for(var a in t.href=e,t.pathname=e.replace(/[?#].*/,""),t.origin=t.protocol="",t.toString=t.toJSON=()=>e,t)Object.defineProperty(this,a,{enumerable:!0,configurable:!0,value:t[a]})},t.U.prototype=URL.prototype,(()=>{var e;t.tt=()=>(void 0===e&&(e={createScriptURL:e=>e},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(e=trustedTypes.createPolicy("nextjs#bundler",e))),e)})(),t.tu=e=>t.tt().createScriptURL(e),t.p="/_next/",(()=>{var e={606:1};t.f.i=(r,a)=>{e[r]||importScripts(t.tu(t.p+t.u(r)))};var r=self.webpackChunk_N_E=self.webpackChunk_N_E||[],a=r.push.bind(r);r.push=r=>{var[_,n,i]=r;for(var s in n)t.o(n,s)&&(t.m[s]=n[s]);for(i&&i(t);_.length;)e[_.pop()]=1;a(r)}})(),(()=>{var e=t.x;t.x=()=>Promise.all([t.e(472),t.e(285)]).then(e)})(),_N_E=t.x()})();