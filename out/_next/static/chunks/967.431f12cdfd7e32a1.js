"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[967],{1967:(e,t,o)=>{o.r(t),o.d(t,{default:()=>d});var n=o(5155),r=o(2115),a=o(7650);let i=(0,o(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var s=o(5169),l=o(4355),c=o(5695);let d=()=>{let e=(0,c.useRouter)(),t=(0,r.useRef)(null),[o,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1),[p,g]=(0,r.useState)(null),[h,b]=(0,r.useState)(.114),[v,f]=(0,r.useState)(.0095),y=(0,r.useRef)(null),x=(0,r.useRef)(.114),w=(0,r.useRef)(.0095),[A,k]=(0,r.useState)(!1),E=(0,r.useRef)({});(0,r.useEffect)(()=>{k(!0);let e=async()=>{try{if(!window.MINDAR||!window.AFRAME){for(let e of(console.log("Loading MindAR and A-Frame libraries..."),["https://aframe.io/releases/1.3.0/aframe.min.js","https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"]))await new Promise((t,o)=>{let n=document.createElement("script");n.src=e,n.async=!1,n.onload=()=>{console.log("Loaded: ".concat(e)),t()},n.onerror=()=>{console.error("Failed to load: ".concat(e)),o(Error("Failed to load ".concat(e)))},document.head.appendChild(n)});await new Promise(e=>setTimeout(e,500)),console.log("All libraries loaded")}d(!0)}catch(e){console.error("Failed to load libraries:",e),g("ARライブラリの読み込みに失敗しました。")}},t=async()=>{console.log("\uD83D\uDD04 Page hide detected, cleaning up AR..."),await R()},o=async()=>{document.hidden&&(console.log("\uD83D\uDD04 Page became hidden, cleaning up AR..."),await R())},n=async()=>{console.log("\uD83D\uDD04 Page unloading, cleaning up AR..."),await R()},r=async()=>{console.log("\uD83D\uDD04 Browser back detected, cleaning up AR..."),await R()};return window.addEventListener("pagehide",t),document.addEventListener("visibilitychange",o),window.addEventListener("beforeunload",n),window.addEventListener("popstate",r),e(),()=>{console.log("MarkerARFrame component unmounting, cleaning up..."),k(!1),window.removeEventListener("pagehide",t),document.removeEventListener("visibilitychange",o),window.removeEventListener("beforeunload",n),window.removeEventListener("popstate",r),(async()=>{await R()})()}},[]);let j=async()=>{if(!t.current)return void g("コンテナが見つかりません");try{console.log("Starting AR initialization..."),console.log("Requesting camera permission...");try{let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});console.log("✅ Camera permission granted"),e.getTracks().forEach(e=>e.stop())}catch(e){console.error("Camera permission denied:",e),g("カメラへのアクセスが拒否されました。ブラウザの設定を確認してください。");return}console.log("Starting AR initialization with both targets"),console.log("Checking targets.mind file...");try{let e=await fetch("/targets.mind");if(!e.ok)throw Error("targets.mind not found: ".concat(e.status));console.log("✅ targets.mind file found")}catch(e){console.error("targets.mind check failed:",e),g("ターゲットファイルが見つかりません");return}let e=document.createElement("style");e.setAttribute("data-mindar-fullscreen","true"),e.textContent="\n        html, body {\n          margin: 0 !important;\n          padding: 0 !important;\n          overflow: hidden !important;\n          width: 100% !important;\n          height: 100% !important;\n        }\n        /* 標準 UI は完全に隠す */\n        .mindar-ui-overlay,\n        .mindar-ui-scanning,\n        .mindar-ui-loading {\n          display: none !important;\n          pointer-events: none !important;\n        }\n        a-scene {\n          position: fixed !important;\n          top: 0 !important;\n          left: 0 !important;\n          width: 100vw !important;\n          height: 100vh !important;\n          display: block !important;\n          margin: 0 !important;\n          padding: 0 !important;\n          z-index: 1 !important;\n        }\n        a-scene canvas {\n          position: fixed !important;\n          top: 0 !important;\n          left: 0 !important;\n          width: 100% !important;\n          height: 100% !important;\n          display: block !important;\n          z-index: 1 !important;\n          pointer-events: none !important;\n        }\n        video {\n          position: fixed !important;\n          top: 0 !important;\n          left: 0 !important;\n          width: 100% !important;\n          height: 100% !important;\n          object-fit: cover !important;\n          pointer-events: none !important;\n        }\n      ",document.head.appendChild(e);let o='\n        <a-scene\n          mindar-image="imageTargetSrc: /targets.mind; autoStart: no; uiScanning: no; uiLoading: no; uiError: no; showStats: no; filterMinCF: 0.0001; filterBeta: 1000;"\n          color-space="sRGB"\n          renderer="colorManagement: true, physicallyCorrectLights"\n          vr-mode-ui="enabled: false"\n          device-orientation-permission-ui="enabled: false"\n          style="display: block; width: 100vw; height: 100vh;"\n        >\n          <a-assets>\n            <a-asset-item id="coicoi-model" src="/coicoi.glb"></a-asset-item>\n            <a-asset-item id="wkwk-model" src="/wkwk.glb"></a-asset-item>\n          </a-assets>\n          \n          <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>\n          \n          \x3c!-- Coicoi用 (index 0) --\x3e\n          <a-entity mindar-image-target="targetIndex: 0">\n            <a-gltf-model\n              id="model-coicoi"\n              rotation="0 0 0"\n              position="0 0 0"\n              scale="'.concat(h," ").concat(h," ").concat(h,'"\n              src="#coicoi-model"\n              animation-mixer\n            ></a-gltf-model>\n          </a-entity>\n          \n          \x3c!-- WKWK用 (index 1) --\x3e\n          <a-entity mindar-image-target="targetIndex: 1">\n            <a-gltf-model\n              id="model-wkwk"\n              rotation="0 0 0"\n              position="0 0 0"\n              scale="').concat(v," ").concat(v," ").concat(v,'"\n              src="#wkwk-model"\n              animation-mixer\n            ></a-gltf-model>\n          </a-entity>\n          \n          <a-light type="ambient" color="#ffffff" intensity="0.6"></a-light>\n          <a-light type="directional" position="0 1 1" intensity="0.8"></a-light>\n        </a-scene>\n      ');t.current.innerHTML=o,await new Promise(e=>{var o;let n=null==(o=t.current)?void 0:o.querySelector("a-scene");n?(console.log("Setting up A-Frame scene..."),n.addEventListener("loaded",()=>{console.log("✅ A-Frame scene loaded successfully"),console.log("Scene element:",n),console.log("Scene innerHTML preview:",n.innerHTML.substring(0,200));let t=n.querySelector("a-box");console.log("Test box found:",t);let o=n.querySelectorAll("[mindar-image-target]");console.log("Found ".concat(o.length," target(s) in scene")),o.forEach((e,t)=>{console.log("Setting up anchor ".concat(t,":"),e);let o=e.querySelector("a-gltf-model");if(o){console.log("Found GLTF model ".concat(t,":"),o.getAttribute("src")),console.log("Model ".concat(t," element:"),o),console.log("Model ".concat(t," attributes:"),Array.from(o.attributes).map(e=>"".concat(e.name,'="').concat(e.value,'"')));let e=o.getAttribute("src");fetch(e||"").then(t=>{if(t.ok)return console.log("✅ GLB file ".concat(e," is accessible (status: ").concat(t.status,")")),t.blob();throw Error("HTTP ".concat(t.status))}).then(t=>{console.log("✅ GLB file ".concat(e," downloaded successfully, size: ").concat(t.size," bytes"))}).catch(t=>{console.error("❌ GLB file ".concat(e," fetch failed:"),t)}),o.addEventListener("model-loaded",e=>{console.log("\uD83C\uDF89 GLTF Model ".concat(t," LOADED successfully from ").concat(o.getAttribute("src"))),console.log("Model ".concat(t," loaded event:"),e),o.object3D&&(console.log("✅ Model ".concat(t," object3D available:"),o.object3D),console.log("Model ".concat(t," children count:"),o.object3D.children.length))}),o.addEventListener("model-error",e=>{console.error("❌ GLTF Model ".concat(t," FAILED to load from ").concat(o.getAttribute("src"),":")),console.error("Model error details:",e)}),setTimeout(()=>{console.log("Checking model ".concat(t," status after 3 seconds...")),o.object3D?(console.log("✅ Model ".concat(t," has object3D:"),o.object3D),console.log("Model ".concat(t," visible:"),o.object3D.visible),console.log("Model ".concat(t," children:"),o.object3D.children),o.object3D.visible=!0,o.setAttribute("visible","true"),o.object3D.children.length>0?console.log("\uD83C\uDFAF Model ".concat(t," has ").concat(o.object3D.children.length," children - model should be visible!")):console.warn("⚠️ Model ".concat(t," object3D has no children - model may not be loaded"))):console.warn("❌ Model ".concat(t," has no object3D after 3 seconds"))},3e3)}e.addEventListener("targetFound",o=>{console.log("\uD83C\uDFAF\uD83C\uDFAF\uD83C\uDFAF Target ".concat(t," FOUND! Image recognized successfully!")),console.log("Target ".concat(t," event:"),o);let n=e.querySelector("a-entity");n&&(n.setAttribute("visible","true"),n.setAttribute("animation","property: rotation; to: 0 360 0; dur: 2000; loop: true"),console.log("✅ Entity ".concat(t," is now visible and rotating"))),e.querySelectorAll("a-box, a-text, a-sphere, a-cylinder, a-gltf-model").forEach((e,o)=>{e.setAttribute("visible","true"),console.log("Setting element ".concat(o," (").concat(e.tagName,") visible in anchor ").concat(t))});let r=e.querySelector("a-gltf-model");if(r){console.log("\uD83C\uDFAF Forcing GLTF model visibility for anchor ".concat(t)),r.setAttribute("visible","true"),r.object3D.visible=!0;let e=r.getAttribute("scale"),o=r.getAttribute("position");console.log("Model ".concat(t," current scale: ").concat(e,", position: ").concat(o)),0===t?r.setAttribute("scale","".concat(h," ").concat(h," ").concat(h)):1===t&&r.setAttribute("scale","".concat(v," ").concat(v," ").concat(v)),r.setAttribute("position","0 0 0"),console.log("✅ GLTF model ".concat(t," should now be VISIBLE with proper scale"))}console.log("✅ All elements in anchor ".concat(t," should be visible now"))}),e.addEventListener("targetLost",()=>{console.log("❌ Target ".concat(t," lost! (but keeping model visible for simultaneous display)"));let o=e.querySelector("a-box"),n=e.querySelector("a-cylinder"),r=e.querySelector("a-sphere");o&&o.setAttribute("material",0===t?"color: red":"color: yellow"),n&&n.setAttribute("material","color: cyan"),r&&r.setAttribute("material","color: purple")})}),console.log("⏳ Waiting for MindAR to initialize..."),setTimeout(()=>{let e=n.systems["mindar-image-system"];e?(console.log("✅ MindAR system found:",e),console.log("MindAR system initialized:",e.el),console.log("MindAR system data:",e.data)):console.error("❌ MindAR system NOT found!")},2e3),n.addEventListener("arReady",()=>{console.log("\uD83C\uDFAF\uD83C\uDFAF\uD83C\uDFAF MindAR is READY! AR system initialized successfully!");let e=n.systems["mindar-image-system"];e&&e.controller&&(console.log("MindAR controller found:",e.controller),console.log("Number of targets:",e.controller.maxTrack||"unknown"),e.start&&(console.log("Starting MindAR system manually..."),e.start()));let t=document.querySelector("video"),o=document.querySelector("canvas");console.log("Initial check - Video:",!!t,"Canvas:",!!o),setTimeout(()=>{let e=document.querySelectorAll("video"),t=document.querySelectorAll("canvas");if(console.log("Found ".concat(e.length," video element(s)")),console.log("Found ".concat(t.length," canvas element(s)")),e.forEach((e,t)=>{console.log("Video ".concat(t,":"),{src:e.src||"no src",width:e.videoWidth||0,height:e.videoHeight||0,readyState:e.readyState,paused:e.paused,ended:e.ended,playing:!e.paused&&!e.ended&&e.readyState>2})}),window.AFRAME&&window.AFRAME.scenes&&window.AFRAME.scenes[0]){let e=window.AFRAME.scenes[0];console.log("A-Frame scene systems:",Object.keys(e.systems))}},3e3)}),n.addEventListener("arError",e=>{console.error("❌ MindAR error:",e.detail||e),g("カメラ初期化に失敗しました")}),n.querySelectorAll("canvas").forEach(e=>{e.style.pointerEvents="none"}),document.querySelectorAll("video").forEach(e=>{e.style.pointerEvents="none"}),window.dispatchEvent(new Event("resize")),setTimeout(()=>window.dispatchEvent(new Event("resize")),100),e()})):setTimeout(e,1e3)}),window.stopAR=R,m(!0),console.log("AR initialized successfully");let n=e=>{if(2===e.touches.length){let t=e.touches[0],o=e.touches[1];y.current=Math.hypot(o.clientX-t.clientX,o.clientY-t.clientY)}},r=e=>{if(2===e.touches.length&&y.current){let t=e.touches[0],o=e.touches[1],n=Math.hypot(o.clientX-t.clientX,o.clientY-t.clientY),r=n/y.current,a=Math.max(.01,Math.min(.5,x.current*r)),i=Math.max(.01,Math.min(.5,w.current*r)),s=document.querySelector("#model-coicoi"),l=document.querySelector("#model-wkwk");s&&s.setAttribute("scale","".concat(a," ").concat(a," ").concat(a)),l&&l.setAttribute("scale","".concat(i," ").concat(i," ").concat(i)),x.current=a,w.current=i,b(a),f(i),y.current=n}},a=()=>{y.current=null};E.current={handleTouchStart:n,handleTouchMove:r,handleTouchEnd:a},document.addEventListener("touchstart",n,{passive:!0}),document.addEventListener("touchmove",r,{passive:!0}),document.addEventListener("touchend",a,{passive:!0})}catch(e){console.error("AR initialization failed:",e),g("AR初期化に失敗しました")}},R=async()=>{console.log("Stopping AR session...");try{var e,o;let n=null==(e=t.current)?void 0:e.querySelector("a-scene");if(n&&n.systems&&n.systems["mindar-image-system"]){console.log("Stopping MindAR system...");let e=n.systems["mindar-image-system"];if(e.stop)try{await e.stop(),console.log("MindAR system stopped")}catch(e){console.error("Error stopping MindAR:",e)}if(e.pause)try{e.pause(),console.log("MindAR system paused")}catch(e){console.error("Error pausing MindAR:",e)}}if(((null==(o=t.current)?void 0:o.querySelectorAll("video"))||[]).forEach(e=>{console.log("Stopping AR video stream..."),e.srcObject&&(e.srcObject.getTracks().forEach(e=>{console.log("Stopping ".concat(e.kind," track...")),e.stop(),e.enabled=!1}),e.srcObject=null),e.pause(),e.src="",e.load()}),document.querySelectorAll("video").forEach(e=>{e.autoplay&&e.muted&&e.playsInline&&(e.width>100||e.height>100)&&(console.log("Removing AR camera video element"),e.srcObject&&e.srcObject.getTracks().forEach(e=>e.stop()),e.remove())}),navigator.mediaDevices)try{let e=await navigator.mediaDevices.enumerateDevices();console.log("Found media devices:",e.length)}catch(e){console.error("Error enumerating devices:",e)}if(t.current){let e=t.current.querySelector("a-scene");e&&(e.removeEventListener("loaded",()=>{}),e.removeEventListener("arReady",()=>{}),e.removeEventListener("arError",()=>{})),t.current.innerHTML=""}let r=document.querySelector("style[data-mindar-fullscreen]");r&&r.remove(),document.querySelectorAll(".mindar-ui-overlay, .mindar-ui-scanning, .mindar-ui-loading, .mindar-ui, .mindar-camera").forEach(e=>{console.log("Removing MindAR UI element:",e.className),e.remove()}),document.querySelectorAll("a-scene, a-assets, a-camera, a-entity").forEach(e=>{console.log("Removing A-Frame element:",e.tagName),e.remove()}),document.querySelectorAll("*").forEach(e=>{(e.classList.contains("mindar-ui-overlay")||e.classList.contains("mindar-ui-scanning")||e.classList.contains("mindar-ui-loading")||"fixed"===e.style.position&&"10000"===e.style.zIndex)&&(console.log("Force removing MindAR overlay:",e),e.remove())}),document.querySelectorAll("canvas").forEach(e=>{e.width>100&&e.height>100&&(console.log("Removing AR canvas element"),e.remove())}),document.body.style.cssText="",document.documentElement.style.cssText="",E.current.handleTouchStart&&document.removeEventListener("touchstart",E.current.handleTouchStart,{passive:!0}),E.current.handleTouchMove&&document.removeEventListener("touchmove",E.current.handleTouchMove,{passive:!0}),E.current.handleTouchEnd&&document.removeEventListener("touchend",E.current.handleTouchEnd,{passive:!0}),E.current={},m(!1),console.log("AR session stopped successfully")}catch(e){console.error("Error stopping AR:",e),m(!1)}};return(0,n.jsxs)("div",{className:"fixed inset-0 bg-black overflow-hidden",children:[(0,n.jsx)("div",{ref:t,className:"fixed inset-0",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",margin:0,padding:0,zIndex:1}}),A&&"undefined"!=typeof document&&(0,a.createPortal)((0,n.jsx)(()=>{let t=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let o=t.current;if(!o)return;let n=async t=>{t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),console.log("\uD83D\uDFE2 Back button activated (simple)!"),u&&(console.log("\uD83D\uDD04 Stopping AR before navigation..."),await R()),e.replace("/start")},r=e=>{console.log("\uD83D\uDFE2 Back button touchstart!"),n(e)},a=e=>{console.log("\uD83D\uDFE2 Back button click!"),n(e)},i=e=>{console.log("\uD83D\uDFE2 Back button pointerdown!"),n(e)};return o.addEventListener("touchstart",r,{passive:!1,capture:!0}),o.addEventListener("click",a,{passive:!1,capture:!0}),o.addEventListener("pointerdown",i,{passive:!1,capture:!0}),()=>{o.removeEventListener("touchstart",r,{capture:!0}),o.removeEventListener("click",a,{capture:!0}),o.removeEventListener("pointerdown",i,{capture:!0})}},[u]),(0,n.jsx)("button",{ref:t,type:"button",className:"fixed bottom-6 left-6 w-16 h-16 rounded-full flex items-center justify-center backdrop-blur-md border-2 border-white/50 transition-all duration-200 active:scale-90 hover:scale-110 hover:border-white/70 cursor-pointer",style:{zIndex:0x7fffffff,background:"linear-gradient(135deg, rgba(75, 85, 99, 0.8), rgba(55, 65, 81, 0.6))",boxShadow:"0 12px 40px rgba(75, 85, 99, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.4)",position:"fixed",pointerEvents:"auto",display:"flex",visibility:"visible"},"aria-label":"戻る",onClick:async t=>{t.preventDefault(),t.stopPropagation(),console.log("\uD83D\uDFE2 React onClick triggered!"),u&&await R(),e.replace("/start")},children:(0,n.jsx)(s.A,{className:"w-7 h-7 text-white"})})},{}),document.body),u&&(0,n.jsx)(()=>(0,n.jsxs)("div",{className:"fixed inset-0 z-[9999] pointer-events-none",children:[(0,n.jsx)("button",{type:"button",onClick:async()=>{console.log("❌ Stopping AR from custom UI"),await R()},className:"fixed top-6 right-6 w-14 h-14 rounded-2xl flex items-center justify-center bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 border-2 border-white/40 transition-all duration-300 active:scale-90 hover:scale-105 cursor-pointer z-[10000] pointer-events-auto shadow-lg",style:{boxShadow:"0 8px 25px rgba(236, 72, 153, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)"},"aria-label":"AR停止",children:(0,n.jsx)(i,{className:"w-7 h-7 text-white font-bold drop-shadow-sm"})}),(0,n.jsx)("div",{className:"fixed top-6 left-6 right-24 text-white pointer-events-none",children:(0,n.jsxs)("div",{className:"bg-gradient-to-r from-purple-900/70 to-pink-900/70 backdrop-blur-md rounded-2xl px-6 py-4 border border-white/20 shadow-xl",children:[(0,n.jsx)("h2",{className:"text-xl font-bold bg-gradient-to-r from-pink-200 to-purple-200 bg-clip-text text-transparent",children:"画像を認識中..."}),(0,n.jsx)("p",{className:"text-sm opacity-90 mt-1 text-pink-100",children:"coicoi または wkwk の画像をカメラに向けてください"})]})}),(0,n.jsx)("div",{className:"fixed inset-0 flex items-center justify-center pointer-events-none",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("div",{className:"w-72 h-72 border-3 border-pink-400/60 rounded-3xl relative shadow-2xl",children:[(0,n.jsx)("div",{className:"absolute -top-2 -left-2 w-10 h-10 border-l-4 border-t-4 border-pink-400 rounded-tl-2xl"}),(0,n.jsx)("div",{className:"absolute -top-2 -right-2 w-10 h-10 border-r-4 border-t-4 border-pink-400 rounded-tr-2xl"}),(0,n.jsx)("div",{className:"absolute -bottom-2 -left-2 w-10 h-10 border-l-4 border-b-4 border-pink-400 rounded-bl-2xl"}),(0,n.jsx)("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 border-r-4 border-b-4 border-pink-400 rounded-br-2xl"}),(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"w-10 h-10",children:[(0,n.jsx)("div",{className:"absolute w-full h-1 bg-gradient-to-r from-transparent via-pink-400 to-transparent top-1/2 transform -translate-y-1/2 rounded-full"}),(0,n.jsx)("div",{className:"absolute h-full w-1 bg-gradient-to-b from-transparent via-pink-400 to-transparent left-1/2 transform -translate-x-1/2 rounded-full"})]})}),(0,n.jsx)("div",{className:"absolute inset-4 border border-purple-300/40 rounded-2xl"})]}),(0,n.jsx)("div",{className:"absolute -inset-2 border-2 border-dashed border-purple-400/30 rounded-full animate-spin",style:{animationDuration:"8s"}})]})}),(0,n.jsxs)("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-6 pointer-events-none",children:[(0,n.jsxs)("div",{className:"bg-gradient-to-r from-pink-800/80 to-purple-800/80 backdrop-blur-md rounded-2xl px-5 py-3 flex items-center space-x-3 border border-pink-300/30 shadow-lg",children:[(0,n.jsx)("div",{className:"w-4 h-4 rounded-full bg-gradient-to-r from-pink-400 to-rose-400 animate-pulse shadow-sm"}),(0,n.jsx)("span",{className:"text-pink-100 font-medium",children:"coicoi"})]}),(0,n.jsxs)("div",{className:"bg-gradient-to-r from-purple-800/80 to-pink-800/80 backdrop-blur-md rounded-2xl px-5 py-3 flex items-center space-x-3 border border-purple-300/30 shadow-lg",children:[(0,n.jsx)("div",{className:"w-4 h-4 rounded-full bg-gradient-to-r from-purple-400 to-pink-400 animate-pulse shadow-sm"}),(0,n.jsx)("span",{className:"text-purple-100 font-medium",children:"wkwk"})]})]})]}),{}),o&&!u&&!p&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/80",style:{zIndex:20},children:(0,n.jsx)("div",{className:"text-white text-center",children:(0,n.jsxs)("button",{type:"button",onClick:j,className:"flex items-center gap-3 px-8 py-4 bg-green-600 hover:bg-green-700 text-white rounded-lg text-lg font-semibold transition-colors mx-auto",children:[(0,n.jsx)(l.A,{className:"w-6 h-6"}),"ARを開始"]})})}),!o&&!p&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black",style:{zIndex:20},children:(0,n.jsxs)("div",{className:"text-white text-center",children:[(0,n.jsx)("div",{className:"animate-spin w-8 h-8 border-2 border-cyan-600 border-t-transparent rounded-full mx-auto mb-4"}),(0,n.jsx)("p",{children:"ARライブラリを読み込み中..."})]})}),p&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black",style:{zIndex:20},children:(0,n.jsxs)("div",{className:"text-white text-center max-w-md mx-4",children:[(0,n.jsx)("div",{className:"text-red-500 text-xl mb-4",children:"⚠️"}),(0,n.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"エラーが発生しました"}),(0,n.jsx)("p",{className:"text-gray-300 mb-4",children:p}),(0,n.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors",children:"再試行"})]})})]})}},4355:(e,t,o)=>{o.d(t,{A:()=>n});let n=(0,o(9946).A)("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},5169:(e,t,o)=>{o.d(t,{A:()=>n});let n=(0,o(9946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5695:(e,t,o)=>{var n=o(8999);o.o(n,"useRouter")&&o.d(t,{useRouter:function(){return n.useRouter}})},9946:(e,t,o)=>{o.d(t,{A:()=>l});var n=o(2115);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,o)=>o?o.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.filter((e,t,o)=>!!e&&""!==e.trim()&&o.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,n.forwardRef)((e,t)=>{let{color:o="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:u,...m}=e;return(0,n.createElement)("svg",{ref:t,...i,width:r,height:r,stroke:o,strokeWidth:l?24*Number(s)/Number(r):s,className:a("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[t,o]=e;return(0,n.createElement)(t,o)}),...Array.isArray(d)?d:[d]])}),l=(e,t)=>{let o=(0,n.forwardRef)((o,i)=>{let{className:l,...c}=o;return(0,n.createElement)(s,{ref:i,iconNode:t,className:a("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),l),...c})});return o.displayName=r(e),o}}}]);